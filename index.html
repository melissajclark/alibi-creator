<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>I ain't Got No Alibi</title>
<link type="text/css"rel="stylesheet" href="style.css">
<link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,400,600' rel='stylesheet' type='text/css'>

</head>
<body>

<main> 
	<header>
		<section class="intro">
			<h1>You ain't got no alibi?</h1>
			<p class="caption">It's alright, you're in the right place now.</p>
			<hr>
		</section>
	</header>

	<script> 
	
	var firstMessage = alert("So you messed up again! You idiot. It's alright, all you gotta do is answer a few measly questions and you'll have the perfect alibi for your latest fuckup.");

	/*
	*
	* Part 1 of Code: User's Answers & Summary of Answers
	*
	*/
		var alibiQuestion = { 
		// would be good to add if statement in case user inputs other answer
			who: prompt("Who is this alibi for? (mom, dad, girlfriend, boyfriend, partner, professor)"),
			firstTime: prompt("Is this the first time? (yes/no)"),
			scaleOfIssue: prompt("How bad did you mess up? (on a scale of 1 to 10)")
			// more alibi questions?
		}
		
		// renames & updates variables to ignore case in user's answer
		var firstTimeAnswer = alibiQuestion.firstTime.toLowerCase( );
		var whosePissed = alibiQuestion.who.toLowerCase( );

		// this section analyzes user's answer to the firstTime prompt
		var repeatMistakeQ = " "; 

		if (firstTimeAnswer === "yes") {
			repeatMistakeQ = "At least it was for the first time.";
			// console.log(repeatMistakeQ);
		} else if (firstTimeAnswer === "no") {
			repeatMistakeQ = "And you've done it before? Eep."; 
			// console.log(repeatMistakeQ); 
		}

		// this section analyzes user's answer to scaleofIssue prompt
		var scaleOfIssueQ = ""; 

		if (alibiQuestion.scaleOfIssue === 10 || alibiQuestion.scaleOfIssue >= 10) {
			scaleOfIssueQ = "Holy shit, this could be bad. I don't know if I can get you outta this one";
		} else if (alibiQuestion.scaleOfIssue >= 8 && alibiQuestion.scaleOfIssue <= 9) {
			scaleOfIssueQ = "Eep, that bad's pretty bad. I'll do my best";
		} else if (alibiQuestion.scaleOfIssue >= 6 && alibiQuestion.scaleOfIssue <= 7 ) {
			scaleOfIssueQ = "Hmmm, alright, I think I can help you out";
		} else if (alibiQuestion.scaleOfIssue >= 4 && alibiQuestion.scaleOfIssue <= 5) {
			scaleOfIssueQ = "Okay, sounds like didn't mess up too badly, I got your back. We'll get through this together";
		} else if (alibiQuestion.scaleOfIssue >= 2 && alibiQuestion.scaleOfIssue <= 3) {
			scaleOfIssueQ = "You barely messed up! Let's call this a misdemeanour";
		} else if (alibiQuestion.scaleOfIssue = 1) {
			scaleOfIssueQ = "You know what, you'll be fine. I bet your " + alibiQuestion.who + " is already over it. Let's get you an alibi, just in case" 
		}

		// Below: Logs User's Input to Give Summary Based on Answers
		var alibiSummary = "Damn, you pissed off your " + whosePissed + "? " + repeatMistakeQ + " " + scaleOfIssueQ + ". "
		console.log(alibiSummary); 

		document.write(alibiSummary + "<br/><br/>" + "Alright, I'm formulating an alibi just for <em>you</em>. ");
		document.write("<br/><br/>"+ "Okay, here's what you need to tell your " + whosePissed + ". Ready?")

	/*
	*
	* Part 2 of Code: Alibi Creation
	*
	*/

	// defines prefixes to insert before array items
	var prefix = [ "My", "I had", "I was"]; 
	
	/* My */ 	var alibiOption1 = [ "toilet expoloded", "apartment flooded", "grandma died"];
	/* I had */ var alibiOption2 = [ "diarrhea", "the bird flu", "my first period", "to meet my parole officer"]; 
	/* I was */ var alibiOption3 = ["watching porn", "in Tijuana", "in a coma", "helping an old lady cross the street", "robbed", "arrested"]; 

	// returns random item from array 
	  var random = function(arr) {
      var num = arr.length;
      var random = Math.floor(Math.random() * arr.length);
      return arr[random];
    }

    // updates array values to include prefix when called 
	var alibiOption1 = prefix[0] + " " + random(alibiOption1);
	var alibiOption2 = prefix[1] + " " + random(alibiOption2);
	var alibiOption3 = prefix[2] + " " + random(alibiOption3);

	var createAlibi = function(){	// defines function for creating alibi optiopns	 
      return "Okay, here's three options for you to tell your " + whosePissed + ". ";
      return "1. " + alibiOption1 + ".";
      return "2. " + alibiOption2 + ".";
      return "3. " + alibiOption3 + ".";
    }

    createAlibi(); // calls function that creates alibi options

    document.write(createAlibi);


	</script>

	<footer>
	<p><a href="https://github.com/melissajclark/alibi-creator">Alibi Creator on Github</a></p>
	</footer>



	</main>
</body>
</html>